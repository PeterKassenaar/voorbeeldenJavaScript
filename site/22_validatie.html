<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JavaScript - events </title>
    <style>

    </style>
    <script>
		// Workshop: Validation. A textbox cannot contain over xx characters.
		// variables
		var numChars = 100; // de drempelwaarde

		window.onload = function () {
			var txt = document.getElementById('txtBericht');
			txt.addEventListener(
				'keyup', 				// first argument
				handleKey,				// second argument: function invoking
				false);					// third argument - optional (you can leave it out)
		};

		// Event handler
		function handleKey(e) {
			// 1. Calculate the current length of the text in the input field.
			var allowedLength = document.getElementById('txtBericht').value.length;

			// 2. Check if this is allowed.
			if (allowedLength > numChars) {
				// 2a. No. Show a message with the number of characters that are exceeded.
				var numCharsTooMany = Math.abs(numChars - allowedLength);
				document.getElementById('txtControl').innerHTML = numCharsTooMany + ' tekens te veel';
				// (possible additional: add a CSS-class that makes a visual distinction)
			} else {
				// 2b. Yeah. Let's see how many characters are left.
				var numCharsLeft = Math.abs(allowedLength - numChars);
				document.getElementById('txtControl').innerHTML = numCharsLeft + ' chars left';
			}
		}

    </script>
</head>
<body>
<form>
    <p>Type a message. You may use up to 100 characters.</p>
    <!-- Extra exercise: also make the value '100' dynamic by
        reading this value from a script or input control -->

    <p><textarea id="txtBericht" cols="40" rows="10">
</textarea></p>
    <p id="txtControl"></p>
</form>


</body>
</html>

